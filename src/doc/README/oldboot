<sect1>
<title>The old way of generating a bootable DOSEMU</title>

<para>
Since dosemu-0.66.4 and once again since dosemu-0.99.6 you will not need the
complicated method of generating a bootable dosemu suite (see Quickstart).
However, who knows, maybe you need the old information too and in case you
are using the DosC (FreeDos) kernel, you will <emphasis>need</emphasis> the below info, because
at the time of writing DosC can't cope with drive redirection.
</para>

<sect2>
<title> Boot ( tool generated `hdimage' method )</title>

<para>
Short reminder: a hdimage is a virtual disk the contents of which are
put into a nomal Linux file. There is a tool to help you generating a
bootable hdimage It doesn't require to boot native DOS (as decsribed
below), nor do you need to fiddle with a floppy:
</para>

<para>

<itemizedlist>
<listitem>

<para>
 You need to have mtools-3.8 for this to work
</para>
</listitem>
<listitem>
<para>
 You need an already installed (native) bootable DOS in one of your
partitions (maybe a floppy). If this is the case, you just need to type

<screen>
  ./setup-hdimage
</screen>

in the dosemu directory. It will prompt for needed information and
generate a bootable /var/lib/dosemu/hdimage.first
</para>
</listitem>
<listitem>

<para>
 Make _CERTAIN_ that your first disk statement in /etc/dosemu.conf is
pointing to /var/lib/dosemu/hdimage.first!
</para>
</listitem>
<listitem>

<para>
 Run 'dos -C', and dosemu should boot your DOS.
If not make certain that the /etc/dosemu.conf is setup correctly.
You can't do much DOS stuff at this moment, though you may use the tiny
ezedit.com editor to change the config.sys / autoexec.bat to your needs.
</para>
</listitem>
<listitem>

<para>
 Exit dos by running "c:\exitemu".  If you have problems, hold down the
&lt;ctrl&gt; and  &lt;alt&gt; buttons simultaneously while pressing
&lt;pgdn&gt;. (&lt;ctrl&gt;&lt;alt&gt;&lt;pgdn&gt; will automatically
exit dosemu.)
</para>
</listitem>

</itemizedlist>

</para>

<para>
If you <emphasis>don't know how to copy files</emphasis> from/to the hdimage,
have a look at the recent mtools package (version 3.6 at time of writeing).
If you have the following line in /etc/mtools.conf

<screen>
drive g: file="/var/lib/dosemu/hdimage.first" partition=1 offset=128
</screen>

then you can use <emphasis>all mtool commands</emphasis> to access it, such as

<screen>
    # mcopy g:autoexec.bat -
    Copying autoexec.bat
    @echo off
    echo "Welcome to dosemu 0.99!"
</screen>

</para>

</sect2>

<sect2>
<title> Boot ( `traditional' method )</title>

<sect3>
<title>If you are <emphasis>new to DOSEMU</emphasis></title>

<para>

<itemizedlist>
<listitem>

<para>
 Make <emphasis>CERTAIN</emphasis> that your first disk statement in /etc/dosemu.conf <emphasis>IS</emphasis>
pointing to your hdimage!
</para>
</listitem>
<listitem>

<para>
 Reboot DOS (the real version, not DOSEMU.)  Put a newly formatted
diskette in your a: drive.  Run "sys a:" to transfer the system files
to the diskette.  Copy SYS.COM from your DOS directory
(usually C:\\DOS) to the diskette.
</para>
</listitem>
<listitem>

<para>
 Reboot Linux.  Run 'dos -A'.  After a short pause, the system should
come up.  Try "dir c:" which should list the files on the harddrive
distribution image.  If that works, run: "sys c:".
Exit dos by running "c:\exitemu".  If you have problems, hold down the
&lt;ctrl&gt; and &lt;alt&gt; buttons simultaneously while pressing &lt;pgdn&gt;.
(&lt;ctrl&gt;&lt;alt&gt;&lt;pgdn&gt; will automatically exit dosemu.)
</para>
</listitem>

</itemizedlist>

</para>

</sect3>

<sect3>
<title>If you already have a HDIMAGE file</title>

<para>

<itemizedlist>
<listitem>

<para>
 If you have a previous version of DOSEMU running, you should copy the
*.SYS, *.COM, &#38; *.EXE files in the ./commands directory over to the
hdimage drive that you boot from.  Some of these files have changed.
</para>
</listitem>

</itemizedlist>

</para>

</sect3>

<sect3>
<title>If you don't know how to copy files from/to the hdimage</title>

<para>

<itemizedlist>
<listitem>
<para>
 Have a look at the recent mtools package (version 3.6 at time of writeing).
If you have the following line in /etc/mtools.conf
</para>

<para>

<screen>
     drive g: file="/var/lib/dosemu/hdimage" partition=1 offset=128
</screen>

</para>

<para>
then you can use <emphasis>all the mtool commands</emphasis> to access it, such as
</para>

<para>

<screen>
    # mcopy g:autoexec.bat -
    Copying autoexec.bat
    @echo off
    echo "Welcome to dosemu 0.99!"
</screen>

</para>
</listitem>

</itemizedlist>

</para>

<para>
all clear ? ;-)
</para>

</sect3>

</sect2>

</sect1>

